# LinkCanvas

## アプリケーション概要

LinkCanvasは、従来のリスト形式やフォルダ階層によるブックマーク管理から、ホワイトボードに付箋を貼るような感覚でWebページを保存・整理できるWebアプリケーションです。

専用の自作Chrome拡張機能と連携することで、閲覧中のページをワンクリックで保存し、キャンバス上で自由に配置・整理することができます。

## URL

https://linkcanvas-kdc7.onrender.com/

## テスト用アカウント

採用担当者様用に、以下の情報ですぐにログインして機能をお試しいただけます。

| 項目 | 値 |
| :--- | :--- |
| **Basic認証ID** | `admin` |
| **Basic認証Pass** | `2222` |
| **メールアドレス** | `test@example.com` |
| **パスワード** | `password` |

## 利用方法

### 1. アプリと拡張機能の準備

1.  上記URLにアクセスし、アカウント登録を行います。
2.  ログイン後、左サイドバーにある「🧩 拡張機能をDL」ボタンからZIPファイルをダウンロードします。
3.  Chromeの設定ページ (`chrome://extensions`) を開き、デベロッパーモードをONにして、解凍したフォルダを読み込みます。
4.  アプリ画面サイドバー下部の `Token` をコピーし、拡張機能のオプション画面に入力して保存します。

### 2. リンクの保存

* **自動保存**: ChromeでWebページ閲覧中に、ブラウザ標準の「★（ブックマーク）」ボタンを押すと、自動的にアプリに保存されます。
* **拡張機能から**: 拡張機能アイコンをクリックし、保存モード（OGP / スクショ / 範囲選択など）を選んで保存ボタンを押します。

### 3. キャンバスでの整理

* 保存されたリンクは、アプリ画面にカードとしてリアルタイムで表示されます。
* カードはドラッグ＆ドロップで好きな位置に配置できます。
* カードの編集ボタンから、画像をクリップボードから貼り付けたり、PC内の画像に変更したりできます。

## アプリケーションを作成した背景

### ターゲット

視覚的要素が重要な情報収集において、テキストベースのブックマーク管理ツールなど既存のツールに限界を感じている人。

### 解決したい課題

従来のブックマーク管理（リスト型やフォルダ階層）では、情報の「文脈」や「横の繋がり」が埋もれてしまいがちでした。また、類似のブックマークが多い場合に起こる「あの情報はどこだっけ？」と探す手間を減らし、本来の作業に没頭できる環境が必要だと考えました。

このアプリは、**「脳内のイメージに近い『空間』で情報を管理する」** ことで、直感的に情報を引き出し、思考を整理することを目的としています。

## 実装した機能についての画像やGIFおよびその説明

### 1. 2ペイン・キャンバスUI

サイドバーでボードを切り替え、メインエリア（キャンバス）でカードを自由に操作できる2ペインレイアウトを採用しました。

[![Image from Gyazo](https://i.gyazo.com/a6258c9163f46b4d8d18ea1a6b0f57a5.png)](https://gyazo.com/a6258c9163f46b4d8d18ea1a6b0f57a5)

### 2. Chrome拡張機能との連携 & リアルタイム反映

ブラウザで「★」ボタンを押すと、Rails側のDBに保存され、**リロードなしで**アプリ画面にカードが出現します（Turbo Streams / Redis使用）。

[![Image from Gyazo](https://i.gyazo.com/fffd94ad0f34a86b21e2c4a4eaf2ec7e.gif)](https://gyazo.com/fffd94ad0f34a86b21e2c4a4eaf2ec7e)

### 3. ドラッグ＆ドロップ配置

Stimulusを使用し、カードを直感的に配置できます。座標は非同期通信で自動保存されます。

[![Image from Gyazo](https://i.gyazo.com/fa350c03ce44ed53166dff229330055a.gif)](https://gyazo.com/fa350c03ce44ed53166dff229330055a)

### 4. 高度なスクリーンショット機能

拡張機能により、以下の4つのモードで画像を保存できます。

* **OGP画像**: 自動取得
* **全体スクショ**: 表示領域全体
* **固定切り抜き**: ページ左上から任意のサイズで切り抜き
                   (最大3840×2160、最小128×128）
* **範囲選択**: ドラッグした範囲のみを切り抜き

[![Image from Gyazo](https://i.gyazo.com/2943b29818cf5b2a26d8f2dd9bbfd151.png)](https://gyazo.com/2943b29818cf5b2a26d8f2dd9bbfd151)

## データベース設計

[![Image from Gyazo](https://i.gyazo.com/982c2464f93784f63a4bc4ada64cc16f.png)](https://gyazo.com/982c2464f93784f63a4bc4ada64cc16f)

## 画面遷移図

[![Image from Gyazo](https://i.gyazo.com/0f684982495793dea1868579226252e0.png)](https://gyazo.com/0f684982495793dea1868579226252e0)

## 開発環境

### 使用言語・フレームワーク

* Ruby 3.2.2
* Ruby on Rails 7.0
* JavaScript (ES6)
* Hotwire (Turbo / Stimulus)
* Tailwind CSS

### インフラ・ミドルウェア

* PostgreSQL (本番) / MySQL (開発)
* Redis (Action Cable用)
* Render (デプロイ先)

### その他ツール

* Chrome Extension Manifest V3
* Visual Studio Code
* Git / GitHub

## ローカルでの動作方法

### 1. 前提条件 (Prerequisites)

   以下のソフトウェアがインストールされている環境を想定しています。

* Ruby: 3.2.2

* Rails: 7.0系

* MySQL: 8.0 (開発環境のデータベース)

* libvips: 画像処理（リサイズ等）に必須

  * Mac: brew install vips

  * Ubuntu: sudo apt install libvips  
    ※WindowsOSをお使いの方は、Ubuntuをインストールしてから実行してください。


### 2. 環境構築 & 起動 (Windowsをお使いの方はUbuntuで実行してください)
```bash
# リポジトリのクローン
git clone https://github.com/naoto4420-pixel/LinkCanvas.git
cd LinkCanvas

# 依存ライブラリのインストール
bundle install

# データベースの作成とマイグレーション
rails db:create
rails db:migrate

# サーバーの起動
./bin/dev
# または rails s
```
※Chrome拡張機能は LinkCanvas\chrome_extension を直接読み込んでください。

※`linkcanvas-extension.zip` は、Render環境用のため、ローカルでは使用できません。

## 工夫したポイント

### 1. ユーザー体験（UX）へのこだわり

「アプリを開かなくても保存できる」体験を作るため、Chrome拡張機能を自作しました。特に、ブラウザ標準の「★ボタン」をトリガーにする機能は、ユーザーの習慣を変えずに導入できる工夫です。

### 2. 技術的な挑戦（リアルタイム通信）

RailsのHotwire (Turbo Streams) と Redis を組み合わせ、保存されたデータが即座に画面に反映されるSPA（シングルページアプリケーション）のような挙動を実装しました。これにより「保存した実感」をユーザーに与えることができます。

### 3. フロントエンドの実装

ドラッグ＆ドロップやクリップボードからの画像貼り付けなど、リッチな操作性を外部ライブラリ（React等）に頼りすぎず、Rails標準のStimulusを活用して軽量に実装しました。

## 改善点

* **画像の永続化**: 現在はRenderの無料プランを使用しているため、デプロイ時に画像が消えてしまいます。AWS S3などのクラウドストレージを導入して永続化したいと考えています。
* **ボード間のカード移動簡略化**: 現在はカードをほかのボードに移すには、カードの編集画面から変える必要があります。これを、ドラッグ＆ドロップでほかのボードに移動できるようにしたいと考えています。

## 制作時間

約 3 週間

