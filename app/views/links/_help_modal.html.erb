<!-- モーダル全体 (背景) -->
<div data-help-target="modal" 
     data-action="click->help#backgroundClick"
     class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4">
  
  <!-- モーダル本体 -->
  <div class="bg-white w-full max-w-3xl max-h-[80vh] rounded-xl shadow-2xl flex flex-col overflow-hidden">
    
    <!-- ヘッダー -->
    <div class="flex items-center justify-between px-6 py-4 border-b bg-gray-50">
      <h2 class="text-lg font-bold text-gray-800">📘 LinkCanvas 使い方ガイド</h2>
      <button data-action="click->help#close" class="text-gray-400 hover:text-gray-600">
        ✕
      </button>
    </div>

    <!-- コンテンツ (スクロール可能) -->
    <div class="flex-1 overflow-y-auto p-6 space-y-8 text-gray-700">
      
      <section>
        <h3 class="font-bold text-blue-800 mb-2 border-b border-blue-100 pb-1">1. 拡張機能の準備</h3>
        <p class="text-sm mb-2">サイドバーの「拡張機能をDL」ボタンからZIPをダウンロードし、Chromeに読み込ませてください。</p>
        <ul class="list-disc list-inside text-sm ml-2 space-y-1">
          <li>Chromeで <code>chrome://extensions</code> を開く</li>
          <li>右上の「デベロッパーモード」をON</li>
          <li>「パッケージ化されていない拡張機能を読み込む」で解凍したフォルダを選択</li>
        </ul>
      </section>

      <section>
        <h3 class="font-bold text-blue-800 mb-2 border-b border-blue-100 pb-1">2. アプリ連携</h3>
        <p class="text-sm mb-2">サイドバー下部の <code>Token: ...</code> をコピーし、拡張機能の「オプション」画面に入力してください。</p>
      </section>

      <section>
        <h3 class="font-bold text-blue-800 mb-2 border-b border-blue-100 pb-1">3. 保存モードの種類</h3>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm">
          <div class="border p-3 rounded bg-gray-50">
            <div class="font-bold mb-1">🌐 OGP画像</div>
            <div class="text-xs text-gray-500">自動取得。標準的な保存方法です。</div>
          </div>
          <div class="border p-3 rounded bg-gray-50">
            <div class="font-bold mb-1">📸 全体スクショ</div>
            <div class="text-xs text-gray-500">見ている画面全体を保存します。</div>
          </div>
          <div class="border p-3 rounded bg-gray-50">
            <div class="font-bold mb-1">✂️ 固定スクショ</div>
            <div class="text-xs text-gray-500">見ている画面左上から指定した範囲を切り抜きます。</div>
          </div>
          <div class="border p-3 rounded bg-gray-50">
            <div class="font-bold mb-1">📐 範囲選択スクショ</div>
            <div class="text-xs text-gray-500">ドラッグした範囲だけを切り抜きます。</div>
          </div>
        </div>
      </section>

      <section>
        <h3 class="font-bold text-blue-800 mb-2 border-b border-blue-100 pb-1">4. キャンバス操作</h3>
        <ul class="list-disc list-inside text-sm ml-2 space-y-1">
          <li>カードはドラッグ＆ドロップで自由に配置できます。</li>
          <li>カードの「Edit」から、クリップボードの画像を貼り付けられます。</li>
        </ul>
      </section>

    </div>

    <!-- フッター -->
    <div class="p-4 border-t bg-gray-50 flex justify-end">
      <button data-action="click->help#close" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold rounded shadow">
        閉じる
      </button>
    </div>
  </div>
</div>